{% extends "base.html" %}
{% block content %}
<div class="chat-container" role="main" aria-labelledby="chat-title">
    <!-- Chat header (no duplicate main title here; base.html contains the global title) -->
    <div class="chat-header">
        <p id="chat-title" class="subtitle">Your AI legal research assistant</p>
    </div>

    <!-- Messages area -->
    <div class="chat-box" id="chat-box" aria-live="polite">
        <div class="message bot fade-in">
            Hello! Upload a case PDF or ask a legal question to begin.
        </div>
    </div>

    <!-- Upload form: hidden file input + visible button -->
    <form id="upload-form" class="upload-form" action="/upload" method="post" enctype="multipart/form-data" onsubmit="return false;">
        <!-- hidden file input; JS will trigger this -->
        <input type="file" name="pdf" accept="application/pdf" id="pdf-input" style="display: none;" aria-hidden="true">

        <!-- button opens file picker (type=button so it doesn't auto-submit) -->
        <button type="button" id="upload-btn" class="upload-btn" title="Upload a PDF">
            ðŸ“„ Upload PDF
        </button>
    </form>

    <!-- Chat input form -->
    <form id="chat-form" class="chat-form" autocomplete="off">
        <input
            type="text"
            id="chat-input"
            name="message"
            placeholder="Type your message..."
            aria-label="Message"
            autocomplete="off"
        >
        <button type="submit" aria-label="Send message">Send âž¤</button>
    </form>
</div>
{% endblock %}
